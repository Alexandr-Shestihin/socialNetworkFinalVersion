{"version":3,"sources":["components/common/Paginator/Paginator.module.scss","components/Users/User.module.scss","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","../node_modules/reselect/es/index.js","redux/users-selectors.js","components/Users/UsersContainer.jsx"],"names":["module","exports","Paginator","props","portionSize","setPageCount","totalItemsCount","pageSize","arrayPage","i","pagesCount","push","portionCount","Math","ceil","useState","portionNumber","setPortionNumber","leftBorder","rightBorder","className","s","paginationButton","onChange","e","showCountUsersOnPage","target","value","name","title","selectCount","map","u","onClick","filter","p","a","currentPage","paginationButton_active","showPage","User","user","to","id","src","photos","small","UserPhoto","usersPhoto","followed","disabled","followedInProgress","some","onUnfollow","buttonUnfallow","button","onfollow","buttonFallow","status","Users","isFetching","Preload","users","defaultEqualityCheck","b","areArgumentsShallowlyEqual","equalityCheck","prev","next","length","getDependencies","funcs","dependencies","Array","isArray","every","dep","dependencyTypes","join","Error","createSelector","memoize","_len","arguments","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","apply","undefined","concat","selector","params","resetRecomputations","createSelectorCreator","func","lastArgs","lastResult","getUsersFilter","state","usersPage","getTotalItemsCount","getPageSize","getCurrentPage","getPagesCount","getIsFetching","getFollowedInProgress","getSelectCount","UsersFunc","pageNumber","thunkCreator","thunkFallow","thunkUnfallow","this","React","Component","compose","connect","setUsers","setPageSize","setPage","setTotalItemsCount","setIsFetching","setFollowedInProgress"],"mappings":"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","file":"static/js/3.656834be.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationButton\":\"Paginator_paginationButton__3x-od\",\"paginationButton_active\":\"Paginator_paginationButton_active__2s6mM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"User_usersPhoto__2d0aX\",\"button\":\"User_button__JmFm0\",\"buttonFallow\":\"User_buttonFallow__1EP0_\",\"buttonUnfallow\":\"User_buttonUnfallow__1ksgK\",\"paginationButton\":\"User_paginationButton__32hzh\",\"paginationButton_active\":\"User_paginationButton_active__3feUz\"};","import React, { useState } from 'react';\nimport s from './Paginator.module.scss';\n\nconst Paginator = (props, { portionSize = 10 }) => {\n   props.setPageCount(props.totalItemsCount, props.pageSize)\n\n   let arrayPage = [];\n   for (let i = 1; i <= props.pagesCount; i++) {\n      arrayPage.push(i);\n   }\n   let portionCount = Math.ceil(props.pagesCount / portionSize);\n   let [portionNumber, setPortionNumber] = useState(1);\n   let leftBorder = ((portionNumber - 1) * (portionSize));\n   let rightBorder = (portionNumber * portionSize);\n\n   return (\n\n      <div className={s.paginationButton}>\n         <select onChange={(e) => props.showCountUsersOnPage(e.target.value)} name=\"lavel\" title='Сколько пользователей выводить на одной странице.' >\n            {props.selectCount.map(u => <option value={u}>{u}</option>)}\n         </select>\n\n         {portionNumber > 1 ? <button onClick={() => setPortionNumber(portionNumber - 1)}>{'<'}</button> : false}\n\n         {arrayPage\n            .filter(p => p >= leftBorder && p <= rightBorder)\n            .map(a => {\n               return <button className={props.currentPage === a && s.paginationButton_active} onClick={() => props.showPage(a)} >{a}</button>\n            })}\n\n         {portionNumber < portionCount ? <button onClick={() => { setPortionNumber(portionNumber + 1) }}>{'>'}</button> : false}\n\n\n      </div>\n   )\n}\n\nexport default Paginator;","import React from 'react';\nimport UserPhoto from './../../assets/image/userPhoto.jpg';\nimport { NavLink } from 'react-router-dom';\nimport s from './User.module.scss';\n\nconst User = ({ user, props }) => {\n   return (\n      <div key={user.id}>\n         <span>\n            <div> <NavLink to={'/profile/' + user.id} >\n               <img src={user.photos.small != null ? user.photos.small : UserPhoto} className={s.usersPhoto} />\n            </NavLink>\n            </div>\n            <div>\n               {user.followed\n                  ? <button\n                     disabled={props.followedInProgress.some(s => s === user.id)}\n                     onClick={() => { props.onUnfollow(user.id) }} className={`${s.buttonUnfallow} ${s.button}`}\n                  >Unfallow</button>\n                  : <button disabled={props.followedInProgress.some(s => s === user.id)}\n                     onClick={() => { props.onfollow(user.id) }}\n                     className={`${s.buttonFallow} ${s.button}`}\n                  >Fallow</button>}\n            </div>\n         </span>\n         <span>\n            <span>\n               <div>{user.name}</div>\n               <div>{user.status}</div>\n            </span>\n            <span>\n               <div>{/* user.location.country */}</div>\n               <div>{/* user.location.city */}</div>\n            </span>\n         </span>\n         <br /><br />\n      </div>)\n}\n\n\nexport default User;","import React from 'react';\nimport Preload from './../common/preload/Preload';\nimport Paginator from './../common/Paginator/Paginator';\nimport User from './User';\n\nconst Users = (props) => {\n\n   return (\n      <div>\n         <Paginator {...props} />\n         {props.isFetching ? <Preload /> : null}\n         {\n            props.users.map(u => <User props={props} user={u} />)\n         }\n      </div >\n   )\n}\n\nexport default Users;","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","import { createSelector } from \"reselect\";\n\nconst getUsers = (state) => {\n   return state.usersPage.users;\n}\n\nexport const getUsersFilter = createSelector(getUsers,\n   (users) => {\n      return users.filter(u => true);\n   }\n)\n\n\nexport const getTotalItemsCount = (state) => {\n   return state.usersPage.totalItemsCount\n}\n\nexport const getPageSize = (state) => {\n   return state.usersPage.pageSize\n}\n\nexport const getCurrentPage = (state) => {\n   return state.usersPage.currentPage\n}\n\nexport const getPagesCount = (state) => {\n   return state.usersPage.pagesCount\n}\n\nexport const getIsFetching = (state) => {\n   return state.usersPage.isFetching\n}\n\nexport const getFollowedInProgress = (state) => {\n   return state.usersPage.followedInProgress\n}\n\nexport const getSelectCount = (state) => {\n   return state.usersPage.selectCount\n}","import React from 'react';\nimport Users from './Users';\nimport { connect } from 'react-redux';\nimport { setUsers, setPageSize, setPage, setPageCount, setTotalItemsCount, setIsFetching, setFollowedInProgress, thunkCreator, thunkFallow, thunkUnfallow } from '../../redux/users-reducer';\nimport { compose } from 'redux';\nimport { getCurrentPage, getFollowedInProgress, getIsFetching, getPagesCount, getPageSize, getTotalItemsCount, getUsersFilter, getSelectCount } from '../../redux/users-selectors';\n\nclass UsersFunc extends React.Component {\n   componentDidMount() {\n      const { currentPage, pageSize } = this.props;\n      this.props.thunkCreator(currentPage, pageSize)\n   }\n   showCountUsersOnPage = (pageNumber) => {\n      this.props.thunkCreator(1, pageNumber)\n   }\n   showPage = (pageNumber) => {\n      const { pageSize } = this.props;\n      this.props.thunkCreator(pageNumber, pageSize);\n   }\n   onfollow = (id) => {\n      this.props.thunkFallow(id)\n   }\n   onUnfollow = (id) => {\n      this.props.thunkUnfallow(id)\n   }\n\n   render() {\n\n      return (\n         <Users\n            setPageCount={this.props.setPageCount}\n            totalItemsCount={this.props.totalItemsCount}\n            pageSize={this.props.pageSize}\n            showCountUsersOnPage={this.showCountUsersOnPage}\n            currentPage={this.props.currentPage}\n            showPage={this.showPage}\n            users={this.props.users}\n            pagesCount={this.props.pagesCount}\n            followedInProgress={this.props.followedInProgress}\n            onfollow={this.onfollow}\n            onUnfollow={this.onUnfollow}\n            isFetching={this.props.isFetching}\n            selectCount={this.props.selectCount}\n         />\n      )\n   }\n}\n\nlet mapStateToProps = (state) => {\n   return {\n      users: getUsersFilter(state),\n      totalItemsCount: getTotalItemsCount(state),\n      pageSize: getPageSize(state),\n      currentPage: getCurrentPage(state),\n      pagesCount: getPagesCount(state),\n      isFetching: getIsFetching(state),\n      followedInProgress: getFollowedInProgress(state),\n      selectCount: getSelectCount(state),\n   }\n}\n\nexport default compose(connect(mapStateToProps, {\n   setUsers,\n   setPageSize,\n   setPage,\n   setPageCount,\n   setTotalItemsCount,\n   setIsFetching,\n   setFollowedInProgress,\n   thunkCreator,\n   thunkFallow,\n   thunkUnfallow,\n}))(UsersFunc)"],"sourceRoot":""}